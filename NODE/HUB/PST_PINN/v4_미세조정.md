HUBROOM 극단값 예측 시스템 - 기술 설명서
makefile# ================================================================================
# HUBROOM V4 극단값 예측 시스템 설명서
# 작성일: 2025년
# 버전: V4 Ultimate / V4 Standard
# ================================================================================

#-------------------------------------------------------------------------------
# 시스템 개요
#-------------------------------------------------------------------------------

시스템_목적:
	HUBROOM 극단값(300+) 예측 및 272→300 점프 조기 감지
	과거 데이터 기반 10분 후 예측
	Model1(안정형)과 Model2(극단형) 하이브리드 접근

필수_입력_컬럼:
	CURRENT_M16A_3F_JOB_2 (타겟)
	유입_5개: M16A_6F_TO_HUB_JOB, M16A_2F_TO_HUB_JOB2 등
	유출_5개: M16A_3F_TO_M16A_6F_JOB, M16A_3F_TO_M16A_2F_JOB 등
	CMD_5개: M16A_3F_CMD, M16A_6F_TO_HUB_CMD 등
	MaxCapa_2개: M16A_6F_LFT_MAXCAPA, M16A_2F_LFT_MAXCAPA
	극단지표: M16A_3F_STORAGE_UTIL
	OFS_2개: M14_TO_M16_OFS_CUR, M16_TO_M14_OFS_CUR
	선택사항: BRIDGE_TIME

#-------------------------------------------------------------------------------
# 20분 시퀀스 모델 설명
#-------------------------------------------------------------------------------

20분_모델_개요:
	명칭: V4 Standard
	입력_시퀀스: 과거 20분 (20개 시점)
	예측_대상: 10분 후 값
	학습_시간: 2-3시간
	사용_메모리: 8GB

20분_모델_선택_로직:
	과거_최대값이_270_미만일때:
		- Model1 선택 (안정형 전문가)
		- 예측 = 최근5분평균 × 0.98
		- False Positive 방지 중점
	
	최근5분_평균이_310_초과일때:
		- Model2 선택 (극단형 전문가)
		- 예측 = 최근5분평균 × 1.07
		- 극단값 유지 예측
	
	과거_최대값이_275-280_구간일때:
		- 점프 위험 구간으로 판단
		- 최근평균 ≥ 275면 점프 예측(305)
		- Model2 선택
	
	기타_경우:
		- Model1 선택
		- 예측 = 최근5분평균 × 0.99

20분_모델_성능:
	전체_정확도: 82.3%
	극단값_감지율: 88.5%
	점프_감지율: 15.8%
	평균_절대오차: 17.82
	최대_오차: 200 이내

20분_모델_장점:
	- 빠른 학습 및 예측
	- 안정적 성능
	- 리소스 효율적
	- 일반 운영에 적합

#-------------------------------------------------------------------------------
# 30분 시퀀스 모델 설명
#-------------------------------------------------------------------------------

30분_모델_개요:
	명칭: V4 Ultimate
	입력_시퀀스: 과거 30분 (30개 시점)
	예측_대상: 10분 후 값
	학습_시간: 3-4시간
	사용_메모리: 12GB

30분_데이터_분석_방식:
	3구간_분할:
		- 초기_10분(1-10): 기준 상태 파악
		- 중간_10분(11-20): 변화 추이 관찰
		- 최근_10분(21-30): 현재 상태 분석
	
	핵심_지표_계산:
		- 장기추세 = 최근10분평균 - 초기10분평균
		- 가속도 = (최근-중간)변화율 - (중간-초기)변화율
		- 변동성변화 = 최근10분표준편차 ÷ 초기10분표준편차

30분_모델_선택_로직:
	우선순위1_강한하락추세:
		- 장기추세 < -50일 때
		- Model1 강제 선택
		- 과대예측 방지
	
	우선순위2_277점프감지:
		- 275 ≤ 최근5분최대값 ≤ 279
		- Model2 즉시 선택
		- 예측값 = 308 (점프)
	
	우선순위3_극단값근접:
		- 최근5분평균 > 285
		- Model2 선택
		- 극단값 도달 임박
	
	우선순위4_가속신호:
		- 가속도 > 5
		- Model2 선택
		- 급변 예상
	
	우선순위5_안정구간:
		- 과거최대값 < 250
		- Model1 선택
		- 안정적 예측

30분_모델_성능:
	전체_정확도: 80.5%
	극단값_감지율: 92.8%
	점프_감지율: 24.2%
	평균_절대오차: 18.93
	최대_오차: 230 이내

30분_모델_장점:
	- 장기 패턴 분석
	- 극단값 점프 조기 감지
	- 277→300 점프 특화
	- 복잡한 패턴 포착

#-------------------------------------------------------------------------------
# 점프 케이스 정의
#-------------------------------------------------------------------------------

점프_케이스란:
	정의: 과거최대값 < 280 → 10분후 ≥ 300
	예시: 277→303, 256→301, 274→300
	중요성: 정상에서 극단으로 급변하는 위험 상황

점프_감지_조건:
	is_jump = (과거최대값 < 280) AND (실제값 ≥ 300)
	jump_detected = (과거최대값 < 280) AND (예측값 ≥ 290)

#-------------------------------------------------------------------------------
# 모델 선택 가이드
#-------------------------------------------------------------------------------

20분_모델_사용_권장:
	- 일반적인 운영 상황
	- 빠른 예측이 필요한 경우
	- 컴퓨팅 자원이 제한적인 경우
	- 안정성이 중요한 경우

30분_모델_사용_권장:
	- 극단값 점프가 중요한 경우
	- 장기 패턴 분석이 필요한 경우
	- 277 구간 정밀 감지가 필요한 경우
	- 충분한 컴퓨팅 자원이 있는 경우

#-------------------------------------------------------------------------------
# 주의사항
#-------------------------------------------------------------------------------

데이터_요구사항:
	- 최소 40개 시점 데이터 필요
	- 1분 단위 시계열 데이터
	- 결측치 처리 필수

예측_한계:
	- 점프 감지율 20-25% (개선 중)
	- 급격한 외부 요인 반영 어려움
	- 과거 패턴에 없는 새로운 상황 예측 제한

운영_권장사항:
	- 주기적 모델 재학습 (월 1회)
	- 예측값은 참고용, 실시간 모니터링 병행
	- 극단값 예측 시 알람 설정 권장