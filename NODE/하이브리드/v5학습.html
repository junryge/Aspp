<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°˜ë„ì²´ ë¬¼ë¥˜ ì˜ˆì¸¡ ì‹œìŠ¤í…œ - ì•Œê³ ë¦¬ì¦˜ ì„¤ëª…ì„œ</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 20px;
        }
        
        h2 {
            color: #34495e;
            margin-top: 40px;
            font-size: 1.8em;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            color: #2c3e50;
            font-size: 1.4em;
            margin-top: 25px;
        }
        
        .highlight-box {
            background-color: #e8f4fd;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .formula-box {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            text-align: center;
            overflow-x: auto;
        }
        
        .architecture-diagram {
            background-color: #f0f8ff;
            border: 2px dashed #3498db;
            padding: 30px;
            margin: 30px 0;
            border-radius: 10px;
            text-align: center;
        }
        
        .model-card {
            background-color: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        
        .performance-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .performance-table th {
            background-color: #3498db;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .performance-table td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        
        .performance-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .warning-box {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .success-box {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        ul {
            line-height: 2;
        }
        
        .flow-chart {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .flow-item {
            background-color: #3498db;
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            margin: 10px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
        
        .flow-arrow {
            font-size: 24px;
            color: #3498db;
            margin: 0 10px;
        }
        
        @media print {
            body {
                background-color: white;
            }
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ë°˜ë„ì²´ ë¬¼ë¥˜ ì˜ˆì¸¡ ì‹œìŠ¤í…œ v5.0<br><small>ë”¥ëŸ¬ë‹ ê¸°ë°˜ 1400+ ì˜ˆì¸¡ ê°•í™” ëª¨ë¸</small></h1>
        
        <div class="highlight-box">
            <strong>ğŸ“‹ ìš”ì•½:</strong> ë³¸ ì‹œìŠ¤í…œì€ ê³¼ê±° 100ë¶„(50ë¶„Ã—2)ì˜ ë¬¼ë¥˜ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ 10ë¶„ í›„ì˜ ë¬¼ë¥˜ëŸ‰ì„ ì˜ˆì¸¡í•˜ëŠ” 
            ìµœì²¨ë‹¨ ë”¥ëŸ¬ë‹ ëª¨ë¸ì…ë‹ˆë‹¤. íŠ¹íˆ 1400ê°œ ì´ìƒì˜ ê¸‰ì¦ ìƒí™©ì„ ì •í™•íˆ ì˜ˆì¸¡í•˜ëŠ”ë° ì¤‘ì ì„ ë‘ì—ˆìŠµë‹ˆë‹¤.
        </div>

        <h2>1. ì‹œìŠ¤í…œ ì „ì²´ êµ¬ì¡°</h2>
        
        <div class="architecture-diagram">
            <h3>ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h3>
            <div class="flow-chart">
                <div class="flow-item">ì›ì‹œ ë°ì´í„°<br>(CSV)</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">ë°ì´í„° ì „ì²˜ë¦¬<br>& íŠ¹ì§• ì¶”ì¶œ</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">4ê°œ ë”¥ëŸ¬ë‹<br>ëª¨ë¸ í•™ìŠµ</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">ì•™ìƒë¸”<br>ì˜ˆì¸¡</div>
                <span class="flow-arrow">â†’</span>
                <div class="flow-item">ìµœì¢… ì˜ˆì¸¡ê°’</div>
            </div>
        </div>

        <h2>2. ë°ì´í„° ì „ì²˜ë¦¬ ê³¼ì •</h2>
        
        <h3>2.1 ì‹œê³„ì—´ ìœˆë„ìš° ìƒì„±</h3>
        <div class="formula-box">
            <p>ì…ë ¥ ì‹œí€€ìŠ¤: \(X_t = [x_{t-49}, x_{t-48}, ..., x_{t-1}, x_t]\)</p>
            <p>ì˜ˆì¸¡ íƒ€ê²Ÿ: \(y_t = x_{t+10}\)</p>
            <p>ì—¬ê¸°ì„œ \(x_t\)ëŠ” ì‹œê°„ \(t\)ì—ì„œì˜ 12ê°œ íŠ¹ì§• ë²¡í„°</p>
        </div>

        <h3>2.2 íŠ¹ì§• ì—”ì§€ë‹ˆì–´ë§</h3>
        <div class="feature-grid">
            <div class="feature-item">
                <strong>ğŸ“Š ì´ë™í‰ê·  (MA)</strong>
                <div class="formula-box">
                    \(MA_n(t) = \frac{1}{n} \sum_{i=0}^{n-1} x_{t-i}\)
                </div>
                <p>n = 10, 30, 60ë¶„</p>
            </div>
            <div class="feature-item">
                <strong>ğŸ“ˆ í‘œì¤€í¸ì°¨ (STD)</strong>
                <div class="formula-box">
                    \(STD_n(t) = \sqrt{\frac{1}{n} \sum_{i=0}^{n-1} (x_{t-i} - MA_n(t))^2}\)
                </div>
                <p>n = 10, 30ë¶„</p>
            </div>
            <div class="feature-item">
                <strong>ğŸ“‰ ë³€í™”ìœ¨</strong>
                <div class="formula-box">
                    \(Change\_Rate(t) = \frac{x_t - x_{t-1}}{x_{t-1}}\)
                </div>
                <p>1ë¶„, 10ë¶„ ë³€í™”ìœ¨</p>
            </div>
            <div class="feature-item">
                <strong>ğŸ• ì‹œê°„ íŠ¹ì§•</strong>
                <ul style="margin: 0; padding-left: 20px;">
                    <li>ì‹œê°„ëŒ€ (0-23)</li>
                    <li>ìš”ì¼ (0-6)</li>
                    <li>ì£¼ë§ ì—¬ë¶€ (0/1)</li>
                    <li>íŠ¸ë Œë“œ (MA10 - MA30)</li>
                </ul>
            </div>
        </div>

        <h3>2.3 ë°ì´í„° ì •ê·œí™”</h3>
        <div class="formula-box">
            <p><strong>RobustScaler ì ìš©:</strong></p>
            <p>\(x_{scaled} = \frac{x - median(X)}{IQR(X)}\)</p>
            <p>ì—¬ê¸°ì„œ IQR = Q3 - Q1 (ì‚¬ë¶„ìœ„ìˆ˜ ë²”ìœ„)</p>
        </div>

        <h2>3. ë”¥ëŸ¬ë‹ ëª¨ë¸ êµ¬ì¡°</h2>

        <div class="model-card">
            <h3>3.1 LSTM ëª¨ë¸ (Long Short-Term Memory)</h3>
            <div class="formula-box">
                <p><strong>LSTM ì…€ ìˆ˜ì‹:</strong></p>
                <p>ë§ê° ê²Œì´íŠ¸: \(f_t = \sigma(W_f \cdot [h_{t-1}, x_t] + b_f)\)</p>
                <p>ì…ë ¥ ê²Œì´íŠ¸: \(i_t = \sigma(W_i \cdot [h_{t-1}, x_t] + b_i)\)</p>
                <p>ì…€ ìƒíƒœ: \(C_t = f_t * C_{t-1} + i_t * \tilde{C}_t\)</p>
                <p>ì¶œë ¥ ê²Œì´íŠ¸: \(o_t = \sigma(W_o \cdot [h_{t-1}, x_t] + b_o)\)</p>
                <p>ì€ë‹‰ ìƒíƒœ: \(h_t = o_t * \tanh(C_t)\)</p>
            </div>
            <ul>
                <li>3ì¸µ LSTM êµ¬ì¡° (128 â†’ 64 â†’ 32 ìœ ë‹›)</li>
                <li>ê° ì¸µë§ˆë‹¤ Dropout (40%) ì ìš©</li>
                <li>L1/L2 ì •ê·œí™”ë¡œ ê³¼ì í•© ë°©ì§€</li>
            </ul>
        </div>

        <div class="model-card">
            <h3>3.2 GRU ëª¨ë¸ (Gated Recurrent Unit)</h3>
            <div class="formula-box">
                <p><strong>GRU ì…€ ìˆ˜ì‹:</strong></p>
                <p>ë¦¬ì…‹ ê²Œì´íŠ¸: \(r_t = \sigma(W_r \cdot [h_{t-1}, x_t])\)</p>
                <p>ì—…ë°ì´íŠ¸ ê²Œì´íŠ¸: \(z_t = \sigma(W_z \cdot [h_{t-1}, x_t])\)</p>
                <p>í›„ë³´ ì€ë‹‰ ìƒíƒœ: \(\tilde{h}_t = \tanh(W \cdot [r_t * h_{t-1}, x_t])\)</p>
                <p>ì€ë‹‰ ìƒíƒœ: \(h_t = (1 - z_t) * h_{t-1} + z_t * \tilde{h}_t\)</p>
            </div>
            <ul>
                <li>LSTMë³´ë‹¤ ê°„ë‹¨í•œ êµ¬ì¡°ë¡œ ë¹ ë¥¸ í•™ìŠµ</li>
                <li>3ì¸µ êµ¬ì¡° (128 â†’ 64 â†’ 32 ìœ ë‹›)</li>
            </ul>
        </div>

        <div class="model-card">
            <h3>3.3 CNN-LSTM í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë¸</h3>
            <div class="formula-box">
                <p><strong>1D Convolution:</strong></p>
                <p>\(y_i = \sum_{j=0}^{k-1} w_j \cdot x_{i+j} + b\)</p>
                <p>ì—¬ê¸°ì„œ këŠ” ì»¤ë„ í¬ê¸° (3)</p>
            </div>
            <ul>
                <li>CNNìœ¼ë¡œ ë¡œì»¬ íŒ¨í„´ ì¶”ì¶œ</li>
                <li>LSTMìœ¼ë¡œ ì‹œê³„ì—´ ì˜ì¡´ì„± í•™ìŠµ</li>
                <li>ê¸‰ê²©í•œ ë³€í™” ê°ì§€ì— íš¨ê³¼ì </li>
            </ul>
        </div>

        <div class="model-card">
            <h3>3.4 ê¸‰ë³€ ê°ì§€ê¸° (Spike Detector)</h3>
            <ul>
                <li>ì–‘ë°©í–¥ LSTM ì‚¬ìš© (ê³¼ê±°ì™€ ë¯¸ë˜ ì»¨í…ìŠ¤íŠ¸ í™œìš©)</li>
                <li>ì´ì§„ ë¶„ë¥˜: 1400+ ì—¬ë¶€ ì˜ˆì¸¡</li>
                <li>ì‹œê·¸ëª¨ì´ë“œ í™œì„±í™” í•¨ìˆ˜ë¡œ í™•ë¥  ì¶œë ¥</li>
            </ul>
        </div>

        <h2>4. í•µì‹¬ í˜ì‹ : ê°€ì¤‘ ì†ì‹¤ í•¨ìˆ˜</h2>
        
        <div class="warning-box">
            <strong>âš ï¸ ë¬¸ì œì :</strong> 1400+ ë°ì´í„°ê°€ ì „ì²´ì˜ ì•½ 5%ë§Œ ì°¨ì§€í•˜ì—¬ ì¼ë°˜ì ì¸ í•™ìŠµìœ¼ë¡œëŠ” ì˜ˆì¸¡ì´ ì–´ë ¤ì›€
        </div>

        <div class="success-box">
            <strong>âœ… í•´ê²°ì±…:</strong> 1400+ ê°’ì— 10ë°° ê°€ì¤‘ì¹˜ë¥¼ ë¶€ì—¬í•˜ëŠ” ì»¤ìŠ¤í…€ ì†ì‹¤ í•¨ìˆ˜ ê°œë°œ
        </div>

        <div class="formula-box">
            <h3>ê°€ì¤‘ MSE (Weighted Mean Squared Error)</h3>
            <p>\(L_{weighted} = \frac{1}{n} \sum_{i=1}^{n} w_i \cdot (y_i - \hat{y}_i)^2\)</p>
            <p>ì—¬ê¸°ì„œ ê°€ì¤‘ì¹˜ \(w_i = \begin{cases} 
                10.0 & \text{if } y_i \geq 1400 \\
                1.0 & \text{otherwise}
            \end{cases}\)</p>
        </div>

        <h2>5. ë°ì´í„° ì¦ê°• ì „ëµ</h2>
        
        <div class="highlight-box">
            <strong>ğŸ”§ 1400+ ìƒ˜í”Œ ì¦ê°•:</strong> ì›ë³¸ ë°ì´í„°ì— ì ì§„ì  ë…¸ì´ì¦ˆ(1%, 2%, 3%)ë¥¼ ì¶”ê°€í•˜ì—¬ 3ë°° ì¦ê°•
        </div>
        
        <div class="formula-box">
            <p>ì¦ê°•ëœ ìƒ˜í”Œ: \(x_{aug} = x_{original} + \mathcal{N}(0, \sigma)\)</p>
            <p>ì—¬ê¸°ì„œ \(\sigma = 0.01 \times level\), level âˆˆ {1, 2, 3}</p>
        </div>

        <h2>6. ë™ì  ì•™ìƒë¸” ì˜ˆì¸¡</h2>
        
        <h3>6.1 ê¸‰ë³€ í™•ë¥  ê¸°ë°˜ ê°€ì¤‘ì¹˜ ì¡°ì •</h3>
        
        <table class="performance-table">
            <thead>
                <tr>
                    <th>ê¸‰ë³€ í™•ë¥ </th>
                    <th>LSTM ê°€ì¤‘ì¹˜</th>
                    <th>GRU ê°€ì¤‘ì¹˜</th>
                    <th>CNN-LSTM ê°€ì¤‘ì¹˜</th>
                    <th>ë¶€ìŠ¤íŒ… ê³„ìˆ˜</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>70% ì´ìƒ</td>
                    <td>0.15</td>
                    <td>0.15</td>
                    <td>0.70</td>
                    <td>1.20 (20% ì¦í­)</td>
                </tr>
                <tr>
                    <td>50-70%</td>
                    <td>0.20</td>
                    <td>0.20</td>
                    <td>0.60</td>
                    <td>1.15 (15% ì¦í­)</td>
                </tr>
                <tr>
                    <td>30-50%</td>
                    <td>0.30</td>
                    <td>0.30</td>
                    <td>0.40</td>
                    <td>1.08 (8% ì¦í­)</td>
                </tr>
                <tr>
                    <td>30% ë¯¸ë§Œ</td>
                    <td>0.40</td>
                    <td>0.35</td>
                    <td>0.25</td>
                    <td>1.00 (ì¦í­ ì—†ìŒ)</td>
                </tr>
            </tbody>
        </table>

        <div class="formula-box">
            <h3>ìµœì¢… ì•™ìƒë¸” ì˜ˆì¸¡</h3>
            <p>\(\hat{y}_{ensemble} = boost\_factor \times \sum_{i=1}^{3} w_i \cdot \hat{y}_i\)</p>
            <p>ì—¬ê¸°ì„œ \(w_i\)ëŠ” ëª¨ë¸ë³„ ë™ì  ê°€ì¤‘ì¹˜</p>
        </div>

        <h2>7. ì„±ëŠ¥ í‰ê°€ ì§€í‘œ</h2>
        
        <div class="feature-grid">
            <div class="feature-item">
                <strong>MAE (í‰ê·  ì ˆëŒ€ ì˜¤ì°¨)</strong>
                <div class="formula-box">
                    \(MAE = \frac{1}{n} \sum_{i=1}^{n} |y_i - \hat{y}_i|\)
                </div>
            </div>
            <div class="feature-item">
                <strong>RMSE (í‰ê·  ì œê³±ê·¼ ì˜¤ì°¨)</strong>
                <div class="formula-box">
                    \(RMSE = \sqrt{\frac{1}{n} \sum_{i=1}^{n} (y_i - \hat{y}_i)^2}\)
                </div>
            </div>
            <div class="feature-item">
                <strong>RÂ² (ê²°ì •ê³„ìˆ˜)</strong>
                <div class="formula-box">
                    \(R^2 = 1 - \frac{\sum (y_i - \hat{y}_i)^2}{\sum (y_i - \bar{y})^2}\)
                </div>
            </div>
            <div class="feature-item">
                <strong>Precision & Recall (1400+)</strong>
                <div class="formula-box">
                    \(Precision = \frac{TP}{TP + FP}\)<br>
                    \(Recall = \frac{TP}{TP + FN}\)
                </div>
            </div>
        </div>

        <h2>8. ì¬ì‹œì‘ ê°€ëŠ¥í•œ í•™ìŠµ ì‹œìŠ¤í…œ</h2>
        
        <div class="highlight-box">
            <strong>ğŸ’¾ ì²´í¬í¬ì¸íŠ¸ ì‹œìŠ¤í…œ:</strong>
            <ul style="margin: 5px 0;">
                <li>5 ì—í­ë§ˆë‹¤ ëª¨ë¸ ê°€ì¤‘ì¹˜ ìë™ ì €ì¥</li>
                <li>í•™ìŠµ ìƒíƒœë¥¼ JSON íŒŒì¼ë¡œ ê´€ë¦¬</li>
                <li>ì „ì²˜ë¦¬ëœ ë°ì´í„° ìºì‹±ìœ¼ë¡œ ì¬ì‹œì‘ ì‹œê°„ ë‹¨ì¶•</li>
                <li>ì¤‘ë‹¨ëœ ì§€ì ë¶€í„° ì •í™•íˆ ì¬ê°œ ê°€ëŠ¥</li>
            </ul>
        </div>

        <h2>9. ì‹¤í–‰ ë°©ë²•</h2>
        
        <div class="model-card">
            <h3>ğŸš€ ì‚¬ìš©ë²•</h3>
            <pre style="background-color: #f5f5f5; padding: 15px; border-radius: 5px;">
# ì²˜ìŒ ì‹œì‘
python model_v5_ultimate.py

# ì´ì „ í•™ìŠµ ì¬ê°œ
python model_v5_ultimate.py --resume

# ì´ˆê¸°í™” í›„ ìƒˆë¡œ ì‹œì‘
python model_v5_ultimate.py --reset
            </pre>
        </div>

        <h2>10. ê¸°ëŒ€ íš¨ê³¼</h2>
        
        <div class="success-box">
            <h3>âœ¨ ì£¼ìš” ì„±ê³¼</h3>
            <ul>
                <li><strong>1400+ ì˜ˆì¸¡ ì •í™•ë„ ëŒ€í­ í–¥ìƒ</strong> - ê°€ì¤‘ ì†ì‹¤ í•¨ìˆ˜ì™€ ë°ì´í„° ì¦ê°•ìœ¼ë¡œ ê¸‰ì¦ ìƒí™© ì˜ˆì¸¡ë ¥ ê°•í™”</li>
                <li><strong>ì•ˆì •ì ì¸ ì¼ë°˜ ì˜ˆì¸¡</strong> - 4ê°œ ëª¨ë¸ ì•™ìƒë¸”ë¡œ ë…¸ì´ì¦ˆì— ê°•ê±´í•œ ì˜ˆì¸¡</li>
                <li><strong>ì‹¤ì‹œê°„ ì˜ˆì¸¡ ê°€ëŠ¥</strong> - í•™ìŠµëœ ëª¨ë¸ë¡œ 10ë¶„ í›„ ë¬¼ë¥˜ëŸ‰ ì¦‰ì‹œ ì˜ˆì¸¡</li>
                <li><strong>ì§€ì†ì ì¸ ê°œì„  ê°€ëŠ¥</strong> - ì¬ì‹œì‘ ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ì¶”ê°€ í•™ìŠµ ìš©ì´</li>
            </ul>
        </div>

        <div class="warning-box">
            <h3>ğŸ“Œ ì£¼ì˜ì‚¬í•­</h3>
            <ul>
                <li>ìµœì†Œ 6ê°œì›” ì´ìƒì˜ ê³¼ê±° ë°ì´í„° í•„ìš”</li>
                <li>ë°ì´í„° í’ˆì§ˆì´ ì˜ˆì¸¡ ì •í™•ë„ì— ì§ì ‘ì  ì˜í–¥</li>
                <li>ì •ê¸°ì ì¸ ëª¨ë¸ ì¬í•™ìŠµ ê¶Œì¥ (ì›” 1íšŒ)</li>
                <li>TensorFlow 2.15.0 ë²„ì „ í•„ìˆ˜</li>
            </ul>
        </div>

        <hr style="margin: 40px 0; border: 1px solid #e0e0e0;">
        
        <div style="text-align: center; color: #666;">
            <p><strong>ë°˜ë„ì²´ ë¬¼ë¥˜ ì˜ˆì¸¡ ì‹œìŠ¤í…œ v5.0</strong></p>
            <p>ë³¸ ë¬¸ì„œëŠ” ê³ ê°ë‹˜ì˜ ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ì‘ì„±ëœ ê¸°ìˆ  ì„¤ëª…ì„œì…ë‹ˆë‹¤.</p>
            <p>ì¶”ê°€ ë¬¸ì˜ì‚¬í•­ì€ ê¸°ìˆ ì§€ì›íŒ€ìœ¼ë¡œ ì—°ë½ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
        </div>
    </div>

    <script>
        // MathJax ì„¤ì •
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</body>
</html>